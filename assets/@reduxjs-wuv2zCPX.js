import{i as G,a as de,c as fe,b as pe,d as x,e as he}from"./redux-BXkGT1VS.js";import{p as J,i as K,a as we}from"./immer-Bfs3ERAw.js";import{t as ye,w as me}from"./redux-thunk-ClJT1hhx.js";var ge=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?x:x.apply(null,arguments)};function L(e,r){function t(...n){if(r){let a=r(...n);if(!a)throw new Error(C(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return t.toString=()=>`${e}`,t.type=e,t.match=n=>G(n)&&n.type===e,t}var Q=class A extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,A.prototype)}static get[Symbol.species](){return A}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new A(...r[0].concat(this)):new A(...r.concat(this))}};function z(e){return K(e)?J(e,()=>{}):e}function S(e,r,t){return e.has(r)?e.get(r):e.set(r,t(r)).get(r)}function ve(e){return typeof e=="boolean"}var be=()=>function(r){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=r??{};let i=new Q;return t&&(ve(t)?i.push(ye):i.push(me(t.extraArgument))),i},V="RTK_autoBatch",Ke=()=>e=>({payload:e,meta:{[V]:!0}}),H=e=>r=>{setTimeout(r,e)},Ee=(e={type:"raf"})=>r=>(...t)=>{const n=r(...t);let a=!0,s=!1,i=!1;const d=new Set,o=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:H(10):e.type==="callback"?e.queueNotification:H(e.timeout),p=()=>{i=!1,s&&(s=!1,d.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const w=()=>a&&u(),m=n.subscribe(w);return d.add(u),()=>{m(),d.delete(u)}},dispatch(u){try{return a=!u?.meta?.[V],s=!a,s&&(i||(i=!0,o(p))),n.dispatch(u)}finally{a=!0}}})},Ce=e=>function(t){const{autoBatch:n=!0}=t??{};let a=new Q(e);return n&&a.push(Ee(typeof n=="object"?n:void 0)),a};function Qe(e){const r=be(),{reducer:t=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:s=!0,preloadedState:i=void 0,enhancers:d=void 0}=e||{};let o;if(typeof t=="function")o=t;else if(de(t))o=fe(t);else throw new Error(C(1));let p;typeof n=="function"?p=n(r):p=r();let u=x;a&&(u=ge({trace:!1,...typeof a=="object"&&a}));const w=pe(...p),m=Ce(w);let c=typeof d=="function"?d(m):m();const h=u(...c);return he(o,i,h)}function Y(e){const r={},t=[];let n;const a={addCase(s,i){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(C(28));if(d in r)throw new Error(C(29));return r[d]=i,a},addAsyncThunk(s,i){return i.pending&&(r[s.pending.type]=i.pending),i.rejected&&(r[s.rejected.type]=i.rejected),i.fulfilled&&(r[s.fulfilled.type]=i.fulfilled),i.settled&&t.push({matcher:s.settled,reducer:i.settled}),a},addMatcher(s,i){return t.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return e(a),[r,t,n]}function Te(e){return typeof e=="function"}function ke(e,r){let[t,n,a]=Y(r),s;if(Te(e))s=()=>z(e());else{const d=z(e);s=()=>d}function i(d=s(),o){let p=[t[o.type],...n.filter(({matcher:u})=>u(o)).map(({reducer:u})=>u)];return p.filter(u=>!!u).length===0&&(p=[a]),p.reduce((u,w)=>{if(w)if(we(u)){const c=w(u,o);return c===void 0?u:c}else{if(K(u))return J(u,m=>w(m,o));{const m=w(u,o);if(m===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return u},d)}return i.getInitialState=s,i}var Me="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Re=(e=21)=>{let r="",t=e;for(;t--;)r+=Me[Math.random()*64|0];return r},De=Symbol.for("rtk-slice-createasyncthunk");function Le(e,r){return`${e}/${r}`}function Ae({creators:e}={}){const r=e?.asyncThunk?.[De];return function(n){const{name:a,reducerPath:s=a}=n;if(!a)throw new Error(C(11));const i=(typeof n.reducers=="function"?n.reducers(Pe()):n.reducers)||{},d=Object.keys(i),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(f,l){const y=typeof f=="string"?f:f.type;if(!y)throw new Error(C(12));if(y in o.sliceCaseReducersByType)throw new Error(C(13));return o.sliceCaseReducersByType[y]=l,p},addMatcher(f,l){return o.sliceMatchers.push({matcher:f,reducer:l}),p},exposeAction(f,l){return o.actionCreators[f]=l,p},exposeCaseReducer(f,l){return o.sliceCaseReducersByName[f]=l,p}};d.forEach(f=>{const l=i[f],y={reducerName:f,type:Le(a,f),createNotation:typeof n.reducers=="function"};_e(l)?$e(y,l,p,r):Oe(y,l,p)});function u(){const[f={},l=[],y=void 0]=typeof n.extraReducers=="function"?Y(n.extraReducers):[n.extraReducers],b={...f,...o.sliceCaseReducersByType};return ke(n.initialState,T=>{for(let E in b)T.addCase(E,b[E]);for(let E of o.sliceMatchers)T.addMatcher(E.matcher,E.reducer);for(let E of l)T.addMatcher(E.matcher,E.reducer);y&&T.addDefaultCase(y)})}const w=f=>f,m=new Map,c=new WeakMap;let h;function v(f,l){return h||(h=u()),h(f,l)}function k(){return h||(h=u()),h.getInitialState()}function g(f,l=!1){function y(T){let E=T[f];return typeof E>"u"&&l&&(E=S(c,y,k)),E}function b(T=w){const E=S(m,l,()=>new WeakMap);return S(E,T,()=>{const q={};for(const[ue,le]of Object.entries(n.selectors??{}))q[ue]=Se(le,T,()=>S(c,T,k),l);return q})}return{reducerPath:f,getSelectors:b,get selectors(){return b(y)},selectSlice:y}}const M={name:a,reducer:v,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:k,...g(s),injectInto(f,{reducerPath:l,...y}={}){const b=l??s;return f.inject({reducerPath:b,reducer:v},y),{...M,...g(b,!0)}}};return M}}function Se(e,r,t,n){function a(s,...i){let d=r(s);return typeof d>"u"&&n&&(d=t()),e(d,...i)}return a.unwrapped=e,a}var Ve=Ae();function Pe(){function e(r,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...t}}return e.withTypes=()=>e,{reducer(r){return Object.assign({[r.name](...t){return r(...t)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:t}},asyncThunk:e}}function Oe({type:e,reducerName:r,createNotation:t},n,a){let s,i;if("reducer"in n){if(t&&!je(n))throw new Error(C(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(r,s).exposeAction(r,i?L(e,i):L(e))}function _e(e){return e._reducerDefinitionType==="asyncThunk"}function je(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $e({type:e,reducerName:r},t,n,a){if(!a)throw new Error(C(18));const{payloadCreator:s,fulfilled:i,pending:d,rejected:o,settled:p,options:u}=t,w=a(e,s,u);n.exposeAction(r,w),i&&n.addCase(w.fulfilled,i),d&&n.addCase(w.pending,d),o&&n.addCase(w.rejected,o),p&&n.addMatcher(w.settled,p),n.exposeCaseReducer(r,{fulfilled:i||P,pending:d||P,rejected:o||P,settled:p||P})}function P(){}var xe="task",Z="listener",ee="completed",I="cancelled",Be=`task-${I}`,Ne=`task-${ee}`,B=`${Z}-${I}`,Ie=`${Z}-${ee}`,j=class{constructor(e){this.code=e,this.message=`${xe} ${I} (reason: ${e})`}name="TaskAbortError";message},F=(e,r)=>{if(typeof e!="function")throw new TypeError(C(32))},O=()=>{},re=(e,r=O)=>(e.catch(r),e),te=(e,r)=>(e.addEventListener("abort",r,{once:!0}),()=>e.removeEventListener("abort",r)),R=e=>{if(e.aborted)throw new j(e.reason)};function ne(e,r){let t=O;return new Promise((n,a)=>{const s=()=>a(new j(e.reason));if(e.aborted){s();return}t=te(e,s),r.finally(()=>t()).then(n,a)}).finally(()=>{t=O})}var Fe=async(e,r)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(t){return{status:t instanceof j?"cancelled":"rejected",error:t}}finally{r?.()}},_=e=>r=>re(ne(e,r).then(t=>(R(e),t))),ae=e=>{const r=_(e);return t=>r(new Promise(n=>setTimeout(n,t)))},{assign:D}=Object,U={},$="listenerMiddleware",qe=(e,r)=>{const t=n=>te(e,()=>n.abort(e.reason));return(n,a)=>{F(n);const s=new AbortController;t(s);const i=Fe(async()=>{R(e),R(s.signal);const d=await n({pause:_(s.signal),delay:ae(s.signal),signal:s.signal});return R(s.signal),d},()=>s.abort(Ne));return a?.autoJoin&&r.push(i.catch(O)),{result:_(e)(i),cancel(){s.abort(Be)}}}},ze=(e,r)=>{const t=async(n,a)=>{R(r);let s=()=>{};const d=[new Promise((o,p)=>{let u=e({predicate:n,effect:(w,m)=>{m.unsubscribe(),o([w,m.getState(),m.getOriginalState()])}});s=()=>{u(),p()}})];a!=null&&d.push(new Promise(o=>setTimeout(o,a,null)));try{const o=await ne(r,Promise.race(d));return R(r),o}finally{s()}};return(n,a)=>re(t(n,a))},se=e=>{let{type:r,actionCreator:t,matcher:n,predicate:a,effect:s}=e;if(r)a=L(r).match;else if(t)r=t.type,a=t.match;else if(n)a=n;else if(!a)throw new Error(C(21));return F(s),{predicate:a,type:r,effect:s}},ie=D(e=>{const{type:r,predicate:t,effect:n}=se(e);return{id:Re(),effect:n,type:r,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(C(22))}}},{withTypes:()=>ie}),W=(e,r)=>{const{type:t,effect:n,predicate:a}=se(r);return Array.from(e.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===a)&&s.effect===n)},N=e=>{e.pending.forEach(r=>{r.abort(B)})},He=(e,r)=>()=>{for(const t of r.keys())N(t);e.clear()},X=(e,r,t)=>{try{e(r,t)}catch(n){setTimeout(()=>{throw n},0)}},ce=D(L(`${$}/add`),{withTypes:()=>ce}),Ue=L(`${$}/removeAll`),oe=D(L(`${$}/remove`),{withTypes:()=>oe}),We=(...e)=>{console.error(`${$}/error`,...e)},Ye=(e={})=>{const r=new Map,t=new Map,n=c=>{const h=t.get(c)??0;t.set(c,h+1)},a=c=>{const h=t.get(c)??1;h===1?t.delete(c):t.set(c,h-1)},{extra:s,onError:i=We}=e;F(i);const d=c=>(c.unsubscribe=()=>r.delete(c.id),r.set(c.id,c),h=>{c.unsubscribe(),h?.cancelActive&&N(c)}),o=c=>{const h=W(r,c)??ie(c);return d(h)};D(o,{withTypes:()=>o});const p=c=>{const h=W(r,c);return h&&(h.unsubscribe(),c.cancelActive&&N(h)),!!h};D(p,{withTypes:()=>p});const u=async(c,h,v,k)=>{const g=new AbortController,M=ze(o,g.signal),f=[];try{c.pending.add(g),n(c),await Promise.resolve(c.effect(h,D({},v,{getOriginalState:k,condition:(l,y)=>M(l,y).then(Boolean),take:M,delay:ae(g.signal),pause:_(g.signal),extra:s,signal:g.signal,fork:qe(g.signal,f),unsubscribe:c.unsubscribe,subscribe:()=>{r.set(c.id,c)},cancelActiveListeners:()=>{c.pending.forEach((l,y,b)=>{l!==g&&(l.abort(B),b.delete(l))})},cancel:()=>{g.abort(B),c.pending.delete(g)},throwIfCancelled:()=>{R(g.signal)}})))}catch(l){l instanceof j||X(i,l,{raisedBy:"effect"})}finally{await Promise.all(f),g.abort(Ie),a(c),c.pending.delete(g)}},w=He(r,t);return{middleware:c=>h=>v=>{if(!G(v))return h(v);if(ce.match(v))return o(v.payload);if(Ue.match(v)){w();return}if(oe.match(v))return p(v.payload);let k=c.getState();const g=()=>{if(k===U)throw new Error(C(23));return k};let M;try{if(M=h(v),r.size>0){const f=c.getState(),l=Array.from(r.values());for(const y of l){let b=!1;try{b=y.predicate(v,f,k)}catch(T){b=!1,X(i,T,{raisedBy:"predicate"})}b&&u(y,v,c,g)}}}finally{k=U}return M},startListening:o,stopListening:p,clearListeners:w}};function C(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}export{Ye as a,L as b,Ve as c,Qe as d,Ee as e,Ke as p};
